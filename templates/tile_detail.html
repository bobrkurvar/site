{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="/static/tile_detail.css">
{% endblock %}

{% block content %}
<main class="tile-detail-panel">
    <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
    <nav class="breadcrumbs">
        <a href="/">–ì–ª–∞–≤–Ω–∞—è</a> &gt;
        <a href="/catalog">–ö–∞—Ç–∞–ª–æ–≥</a> &gt;
        <span>{{ tile.name }}</span>
    </nav>

    <div class="tile-detail-layout">
        <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ -->
        <section class="tile-visual-section">
            <div class="tile-header">
                <h1 class="tile-main-title">{{ tile.present }}</h1>
            </div>

            <div class="tile-image-main">
                {% if images %}
                    <img id="main-image"
                         src="{{ images[0] }}"
                         alt="{{ tile.name }}"
                         class="tile-detail-image"
                         loading="eager">
                {% else %}
                <div class="no-image-large">
                    <div class="no-image-icon">üñºÔ∏è</div>
                    <p>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</p>
                </div>
                {% endif %}
            </div>

            <div class="tile-thumbnails">
                {% if images and images|length > 1 %}
                    {% for img in images %}
                    <div class="thumbnail {% if loop.first %}active-thumb{% endif %}">
                        <img src="{{ img }}"
                             alt="{{ tile.name }}"
                             class="thumbnail-image"
                             data-index="{{ loop.index0 }}">
                    </div>
                    {% endfor %}
                {% endif %}
            </div>
        </section>

        <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ -->
        <aside class="tile-specs-sidebar">
            <div class="specs-panel">
                <h2 class="specs-title">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h2>

                   {% if tile.producer %}
                    <div class="spec-item">
                        <span class="spec-label">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å:</span>
                        <span class="spec-value">{{ tile.producer }}</span>
                    </div>
                    {% endif %}


                    {% if tile.box.weight %}
                    <div class="spec-item">
                        <span class="spec-label">–í–µ—Å –∫–æ—Ä–æ–±–∫–∏:</span>
                        <span class="spec-value">{{ tile.box.weight }} –∫–≥</span>
                    </div>
                    {% endif %}

                    {% if tile.box.area %}
                    <div class="spec-item">
                        <span class="spec-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –∫–æ—Ä–æ–±–∫–µ:</span>
                        <span class="spec-value">{{ tile.box.area }} –º¬≤</span>
                    </div>
                    {% endif %}

                    {% if tile.boxes_count %}
                    <div class="spec-item">
                        <span class="spec-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ—Ä–æ–±–æ–∫ –≤ –ø–∞–ª–ª–µ—Ç–µ:</span>
                        <span class="spec-value">{{ tile.boxes_count }}</span>
                    </div>
                    {% endif %}

                    {% if tile.article %}
                    <div class="spec-item">
                        <span class="spec-label">–ê—Ä—Ç–∏–∫—É–ª:</span>
                        <span class="spec-value">{{ tile.article }}</span>
                    </div>
                    {% endif %}



                </div>
            </div>
        </aside>
    </div>

</main>

{% endblock %}

{% block extra_js %}
<script>
document.addEventListener("DOMContentLoaded", () => {
    const mainImage = document.getElementById("main-image");
    const thumbs = document.querySelectorAll(".thumbnail");

    thumbs.forEach(thumb => {
        const img = thumb.querySelector(".thumbnail-image");

        thumb.addEventListener("click", () => {
            mainImage.src = img.src;

            // —Å–Ω–∏–º–∞–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É —Å–æ –≤—Å–µ—Ö
            document.querySelectorAll(".thumbnail").forEach(t => {
                t.classList.remove("active-thumb");
            });

            // –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É —Ç–µ–∫—É—â–µ–º—É
            thumb.classList.add("active-thumb");
        });
    });
});
</script>
{% endblock %}
