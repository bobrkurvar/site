{% extends "base.html" %}


{% block extra_css %}
<link rel="stylesheet" href="/static/home.css">
<link rel="stylesheet" href="/static/slider.css">
{% endblock %}

{% block content %}

<!-- СЛАЙДЕР + Чек-лист + Производители -->
<section class="slider-section">
    <div class="slider-container">

        <!-- Левая колонка: только преимущества -->
        <div class="slider-sidebar">
            <div class="features-checklist">
                <h3>Наши преимущества</h3>
                <ul>
                    <li>✅ Широкий ассортимент цветов и размеров</li>
                    <li>✅ Высокое качество материалов</li>
                    <li>✅ Быстрая доставка</li>
                    <li>✅ Профессиональные консультации</li>
                </ul>
            </div>
        </div>

        <!-- Слайдер-->
        <div class="slider-column">
            <div class="slider">
                <div class="slides">
                    {% for img in slide_images %}
                    <div class="slide {% if loop.first %}active{% endif %}">
                        <img src="{{ img }}" alt="Слайд {{ loop.index }}">
                    </div>
                    {% endfor %}
                </div>

                <div class="dots">
                    {% for img in slide_images %}
                    <span class="dot {% if loop.first %}active{% endif %}" data-index="{{ loop.index0 }}"></span>
                    {% endfor %}
                </div>
            </div>
        </div>

    </div>
</section>


{% endblock %}


{% block extra_js %}
<script>
document.addEventListener("DOMContentLoaded", function () {
    const slides = document.querySelectorAll(".slide");
    const dots = document.querySelectorAll(".dot");
    const slider = document.querySelector(".slides");

    let current = 0;
    let interval = null;

    function showSlide(index) {
        slides.forEach(s => s.classList.remove("active"));
        dots.forEach(d => d.classList.remove("active"));
        slides[index].classList.add("active");
        dots[index].classList.add("active");
    }

    function nextSlide() {
        current = (current + 1) % slides.length;
        showSlide(current);
    }

    function prevSlide() {
        current = (current - 1 + slides.length) % slides.length;
        showSlide(current);
    }

    function startAutoSlide() {
        interval = setInterval(nextSlide, 4000);
    }

    function stopAutoSlide() {
        clearInterval(interval);
    }

    // Переключение по клику на левую/правую часть слайда
    slider.addEventListener("click", (e) => {
        const rect = slider.getBoundingClientRect();
        const x = e.clientX - rect.left; // координата клика внутри слайда

        stopAutoSlide();
        if (x < rect.width / 2) {
            prevSlide(); // клик слева → предыдущий слайд
        } else {
            nextSlide(); // клик справа → следующий слайд
        }
        startAutoSlide();
    });

    // Точки
    dots.forEach(dot => {
        dot.addEventListener("click", () => {
            stopAutoSlide();
            current = parseInt(dot.dataset.index);
            showSlide(current);
            startAutoSlide();
        });
    });

    // Запуск
    showSlide(current);
    startAutoSlide();
});
</script>
{% endblock %}

