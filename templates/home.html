{% extends "base.html" %}


{% block extra_css %}
<link rel="stylesheet" href="/static/home.css">
<link rel="stylesheet" href="/static/slider.css">
{% endblock %}

{% block content %}

<!-- –°–õ–ê–ô–î–ï–† + –ß–µ–∫-–ª–∏—Å—Ç + –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ -->
<section class="slider-section">
    <div class="slider-container">

        <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Ç–æ–ª—å–∫–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
        <div class="slider-sidebar">
            <div class="features-card">
                <div class="card-header">
                    <div class="title-wrapper">
                        <h3 class="card-title">–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h3>
                        <div class="title-underline"></div>
                    </div>
                </div>

                <div class="features-list">
                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <span class="feature-emoji">üé®</span>
                        </div>
                        <div class="feature-text">
                            <h4 class="feature-title">–®–∏—Ä–æ–∫–∏–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç</h4>
                            <p class="feature-desc">–ë–æ–≥–∞—Ç—ã–π –≤—ã–±–æ—Ä —Ü–≤–µ—Ç–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤</p>
                        </div>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <span class="feature-emoji">‚≠ê</span>
                        </div>
                        <div class="feature-text">
                            <h4 class="feature-title">–í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ</h4>
                            <p class="feature-desc">–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å</p>
                        </div>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <span class="feature-emoji">üë®‚Äçüíº</span>
                        </div>
                        <div class="feature-text">
                            <h4 class="feature-title">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥</h4>
                            <p class="feature-desc">–≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏</p>
                        </div>
                    </div>
                </div>

                <div class="card-footer">
                    <div class="accent-line"></div>
                </div>
            </div>
        </div>

        <!-- –°–ª–∞–π–¥–µ—Ä-->
        <div class="slider-column">
            <div class="slider">
                <div class="slides">
                    {% for img in slide_images %}
                    <div class="slide {% if loop.first %}active{% endif %}">
                        <img src="{{ img }}" alt="–°–ª–∞–π–¥ {{ loop.index }}">
                    </div>
                    {% endfor %}
                </div>

                <div class="dots">
                    {% for img in slide_images %}
                    <span class="dot {% if loop.first %}active{% endif %}" data-index="{{ loop.index0 }}"></span>
                    {% endfor %}
                </div>
            </div>
        </div>

    </div>
</section>


{% endblock %}


{% block extra_js %}
<script>
document.addEventListener("DOMContentLoaded", function () {
    const slides = document.querySelectorAll(".slide");
    const dots = document.querySelectorAll(".dot");
    const slider = document.querySelector(".slides");

    let current = 0;
    let interval = null;

    function showSlide(index) {
        slides.forEach(s => s.classList.remove("active"));
        dots.forEach(d => d.classList.remove("active"));
        slides[index].classList.add("active");
        dots[index].classList.add("active");
    }

    function nextSlide() {
        current = (current + 1) % slides.length;
        showSlide(current);
    }

    function prevSlide() {
        current = (current - 1 + slides.length) % slides.length;
        showSlide(current);
    }

    function startAutoSlide() {
        interval = setInterval(nextSlide, 4000);
    }

    function stopAutoSlide() {
        clearInterval(interval);
    }

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –ª–µ–≤—É—é/–ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å —Å–ª–∞–π–¥–∞
    slider.addEventListener("click", (e) => {
        const rect = slider.getBoundingClientRect();
        const x = e.clientX - rect.left; // –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –∫–ª–∏–∫–∞ –≤–Ω—É—Ç—Ä–∏ —Å–ª–∞–π–¥–∞

        stopAutoSlide();
        if (x < rect.width / 2) {
            prevSlide(); // –∫–ª–∏–∫ —Å–ª–µ–≤–∞ ‚Üí –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–ª–∞–π–¥
        } else {
            nextSlide(); // –∫–ª–∏–∫ —Å–ø—Ä–∞–≤–∞ ‚Üí —Å–ª–µ–¥—É—é—â–∏–π —Å–ª–∞–π–¥
        }
        startAutoSlide();
    });

    // –¢–æ—á–∫–∏
    dots.forEach(dot => {
        dot.addEventListener("click", () => {
            stopAutoSlide();
            current = parseInt(dot.dataset.index);
            showSlide(current);
            startAutoSlide();
        });
    });

    // –ó–∞–ø—É—Å–∫
    showSlide(current);
    startAutoSlide();
});
</script>
{% endblock %}

